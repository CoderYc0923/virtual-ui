(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","vue","@element-plus/icons-vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c["virtual-ui"]={},c.Vue,c["@element-plus/icons-vue"]))})(this,function(c,e,M){"use strict";const y=e.defineComponent({__name:"VirIcon",props:{name:{type:String},color:{type:String,default:""},size:{type:[Number,String],default:16}},setup(t){const l=t,n=e.computed(()=>{let o="";return typeof l.size=="number"?o=l.size+"px":o=l.size,{height:o,with:o}});return(o,s)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.name),{style:e.normalizeStyle({...n.value,color:t.color}),class:"inline"},null,8,["style"]))}}),g="vir",A="is",p=t=>({base(){return`${g}-${t}`},is(l,n,o){return n&&l?`${o?g+"-":""}${A}-${n}`:""},is_ns(l,n,o){return n&&l?`${o?g+"-":""}${t}-${n}`:""},sfix(l){return l?`${g}-${t}-${l}`:""},sy(l,n){return{[n]:l}},is_sy(l,n,o){return o?l?n:o:l?n:{}}}),L=["type","disabled"],_=e.defineComponent({__name:"VirButton",props:{size:{type:String,default:"default",validator:t=>["default","large","small"].includes(t)},type:{type:String,default:"default",validator:t=>["default","primary","success","info","warning","danger","text"].includes(t)},plain:{type:Boolean,default:!1},round:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},loadingIcon:{type:String,default:"Loading"},disabled:{type:Boolean,default:!1},iconColor:{type:String,default:"white"},nativeType:{type:String,default:"button"}},emits:["click"],setup(t,{emit:l}){const n=p("button"),o=l,s=t,a=e.computed(()=>{const r=n.is(s.plain,"plain",!0),m=n.is(s.round,"round",!0),d=n.is(s.loading,"Loading"),u=n.is(s.disabled||s.loading,"disabled",!0),h=n.is(s.circle,"circle",!0),ge=n.is(!0,s.size,!0);return[n.is_ns(!0,s.type,!0),r,m,d,u,h,ge]}),i=e.computed(()=>({isDisabled:s.disabled||s.loading})),f=r=>{i.value.isDisabled||o("click",r)};return(r,m)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass([e.unref(n).base(),...a.value]),type:t.nativeType,disabled:i.value.isDisabled,onClick:m[0]||(m[0]=d=>f(d))},[e.createElementVNode("span",null,[t.loading?(e.openBlock(),e.createBlock(y,{key:0,name:t.loadingIcon,color:t.iconColor,class:"inline animate-spin mr-0.5"},null,8,["name","color"])):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"default")])],10,L))}}),_e="",j={install(t){t.component("VirButton",_)}},R={install(t){t.component("VirIcon",y)}},S=Symbol(),H={tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0}},w=e.defineComponent({name:"VirCol",props:H,setup(t,{slots:l}){const n=e.inject(S,e.computed(()=>0)),o=a=>a*100,s=e.computed(()=>{let a={};if(n.value){const i={paddingLeft:`${n.value/2}px`,paddingRight:`${n.value/2}px`};a={...a,...i}}if(t.span){const i={maxWidth:`${o(t.span/24)}%`,flexBasis:`${o(t.span/24)}%`};a={...a,...i}}if(t.offset){const i={marginLeft:`${o(t.offset/24)}%`};a={...a,...i}}if(t.push||t.pull){const i={position:"relative"};t.push&&(i.left=`${o(t.push/24)}%`),t.pull&&(i.right=`${o(t.pull/24)}%`),a={...a,...i}}return a});return()=>e.createVNode(t.tag,{class:"vir-col",style:s.value},{default:()=>{var a;return[(a=l.default)==null?void 0:a.call(l)]}})}}),he="",O={tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,default:"start"},align:{type:String,default:"top"}},b=e.defineComponent({name:"VirRow",props:O,setup(t,{slots:l}){e.provide(S,e.computed(()=>t.gutter));const n=e.computed(()=>{const s={"margin-left":"","margin-right":""};return t.gutter&&(s["margin-left"]=`${t.gutter/2}px`,s["margin-right"]=s["margin-left"]),s}),o=e.computed(()=>{const s=`justify-${t.justify}`,a=`items-${t.align}`;return[s,a]});return()=>e.createVNode(t.tag,{class:["vir-row",...o.value],style:n.value},{default:()=>{var s;return[(s=l.default)==null?void 0:s.call(l)]}})}}),W={install(t){t.component(w.name,w),t.component(b.name,b)}},k=e.defineComponent({__name:"VirAside",props:{width:{type:String,default:""}},setup(t){const l=p("aside"),n=t,o=e.computed(()=>n.width?{width:n.width}:{});return(s,a)=>(e.openBlock(),e.createElementBlock("aside",{style:e.normalizeStyle(o.value),class:e.normalizeClass(e.unref(l).base())},[e.renderSlot(s.$slots,"default")],6))}}),we="",x=e.defineComponent({__name:"VirContainer",props:{direction:{type:String,default:""}},setup(t){const l=p("container"),n=t,o=e.computed(()=>{if(n.direction==="vertical")return!0;if(n.direction==="horizontal")return!1;const s=e.useSlots();return s&&s.default?s.default().some(i=>{const f=i.type.name;return f==="VirHeader"||f==="VirFooter"}):!1});return(s,a)=>(e.openBlock(),e.createElementBlock("section",{class:e.normalizeClass([e.unref(l).base(),e.unref(l).is(o.value,"vertical")])},[e.renderSlot(s.$slots,"default")],2))}}),be="",$=e.defineComponent({__name:"VirFooter",props:{height:{type:String,default:""}},setup(t){const l=p("footer"),n=t,o=e.computed(()=>n.height?{height:n.height}:{});return(s,a)=>(e.openBlock(),e.createElementBlock("footer",{style:e.normalizeStyle(o.value),class:e.normalizeClass(e.unref(l).base())},[e.renderSlot(s.$slots,"default")],6))}}),Ve="",B=e.defineComponent({__name:"VirHeader",props:{height:{type:String,default:""}},setup(t){const l=p("header"),n=t,o=e.computed(()=>n.height?{height:n.height}:{});return(s,a)=>(e.openBlock(),e.createElementBlock("header",{style:e.normalizeStyle(o.value),class:e.normalizeClass(e.unref(l).base())},[e.renderSlot(s.$slots,"default")],6))}}),Ce="",N=e.defineComponent({__name:"VirMain",setup(t){const l=p("main");return(n,o)=>(e.openBlock(),e.createElementBlock("main",{class:e.normalizeClass(e.unref(l).base())},[e.renderSlot(n.$slots,"default")],2))}}),Se="",P={install(t){t.component("VirAside",k),t.component("VirContainer",x),t.component("VirFooter",$),t.component("VirHeader",B),t.component("VirMain",N)}},U=e.defineComponent({__name:"BaseModal",props:{visible:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},zIndex:{type:String,default:"9"}},emits:["closed"],setup(t,{emit:l}){const n=p("modal"),o=t,s=l,a=r=>{console.log("关闭模态框"),s("closed",{type:r})},i=e.computed(()=>({zIndex:o.zIndex})),f=r=>{r.code==="Escape"&&a(r.code)};return e.onMounted(()=>{document.addEventListener("keydown",f)}),e.onUnmounted(()=>{document.removeEventListener("keydown",f)}),(r,m)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle(i.value),class:e.normalizeClass([e.unref(n).is(t.mask,"mask"),"base-modal"]),onClick:m[0]||(m[0]=e.withModifiers(d=>a("click"),["self"]))},[e.renderSlot(r.$slots,"default",{},void 0,!0)],6)),[[e.vShow,t.visible]])}}),ke="",V=(t,l)=>{const n=t.__vccOpts||t;for(const[o,s]of l)n[o]=s;return n},E=V(U,[["__scopeId","data-v-5e97724c"]]),q={class:"p-2 py-4 flex justify-between items-center"},G={class:"p-2 flex-1"},K=e.defineComponent({__name:"VirDrawer",props:{modelValue:{type:Boolean,default:!1},direction:{type:String,default:"rtl",vaildator:t=>["rtl","ltr","ttb","btt"].includes(t)},title:{type:String,default:"title"},beforeClose:{type:Function},withHeader:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{emit:l}){const n=p("drawer"),o=t;console.log("props",o.modelValue);const s=l,a=()=>{o.beforeClose?o.beforeClose(()=>s("update:modelValue",!1)):s("update:modelValue",!1)};return(i,f)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(E,{visible:t.modelValue,class:e.normalizeClass([e.unref(n).is(t.direction==="rtl","rtl"),e.unref(n).is(t.direction==="ltr","ltr"),e.unref(n).is(t.direction==="ttb","ttb"),e.unref(n).is(t.direction==="btt","btt")]),onClosed:a},{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass([[e.unref(n).base()],"utils-scrollbar overflow-auto bg-white"])},[e.withDirectives(e.createElementVNode("header",q,[e.renderSlot(i.$slots,"title",{},()=>[e.createElementVNode("span",null,e.toDisplayString(t.title),1)],!0),e.createVNode(y,{name:"close",class:"cursor-pointer text-gray-600 hover:text-gray-400 ml-auto",size:"20",onClick:a})],512),[[e.vShow,t.withHeader]]),e.createElementVNode("div",G,[e.renderSlot(i.$slots,"default",{},void 0,!0)]),e.renderSlot(i.$slots,"footer",{},void 0,!0)],2)]),_:3},8,["visible","class"])]))}}),xe="",z=V(K,[["__scopeId","data-v-88e6cfdf"]]),X={install(t){t.component("VirDrawer",z)}},J={class:"flex justify-between items-center"},Q={class:"text-lg"},Y={class:"py-4 flex items-center"},Z=["innerHTML"],v={class:"flex justify-end pt-0.5"},ee=e.defineComponent({__name:"VirMessageBox",emits:["action"],setup(t,{expose:l,emit:n}){const o=p("message-box"),s=n,a=e.ref(!1),i=e.reactive({title:"",message:"Message",confirmText:"OK",cancelText:"Cancel",boxType:"alert",type:"info",distinguishCancelAndClose:!1,showClose:!0,showCancelButton:!0,center:!1,action:"",showInput:!1}),f=d=>{i.distinguishCancelAndClose&&(d.type==="click"||d.type==="Escape")&&r("close")},r=d=>{i.action=d,a.value&&(a.value=!1,e.nextTick(()=>{i.action&&s("action",i.action)}))},m=d=>{r(d)};return l({...e.toRefs(i),confirmAll:m,closeModal:f,ns:o,_visible:a}),(d,u)=>(e.openBlock(),e.createBlock(E,{visible:a.value,"z-index":"10",onClosed:f},{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:"message-box"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(o).base()])},[e.createElementVNode("div",J,[e.createElementVNode("span",Q,e.toDisplayString(i.title),1),i.showClose?(e.openBlock(),e.createBlock(e.unref(M.Close),{key:0,class:"close-btn cursor-pointer",onClick:u[0]||(u[0]=h=>m("cancel"))})):e.createCommentVNode("",!0)]),e.createElementVNode("div",Y,[e.createElementVNode("span",{class:"text-sm text-gray-500",innerHTML:i.message},null,8,Z)]),e.createElementVNode("div",v,[i.showCancelButton?(e.openBlock(),e.createBlock(_,{key:0,onClick:u[1]||(u[1]=h=>m("cancel"))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.cancelText),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(_,{type:"primary",onClick:u[2]||(u[2]=h=>m("confirm"))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.confirmText),1)]),_:1})])],2),[[e.vShow,a.value]])]),_:1})]),_:1},8,["visible"]))}}),$e="",te=V(ee,[["__scopeId","data-v-fb42d4f4"]]),I=new Map,C=document.createElement("div");document.body.appendChild(C);const ne=(t,l)=>{const n=e.h(te,t);return e.render(n,l),n.component},oe=(t={})=>{const l=ne(t,C),n=l==null?void 0:l.exposeProxy;t.onAction=o=>{const s=I.get(n);let a;t.showInput?a={value:n.state.inputValue,action:o}:a=o,t.callback?t.callback(a,l.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?s==null||s.reject("close"):s==null||s.reject("cancel"):s==null||s.resolve(a),e.render(null,C)},n.onAction=t.onAction;for(const o in t)Object.hasOwn(t,o)&&!Object.hasOwn(n.$props,o)&&(n[o]=t[o]);return console.log("1111",n),n._visible=!0,n};function le(t){let l;return typeof t=="string"?t={message:t}:l=t.callback,new Promise((n,o)=>{const s=oe(t);I.set(s,{options:t,cb:l,resolve:n,reject:o})})}function se(t,l,n){let o={};return o.message=t,l&&(typeof l=="string"?o.title=l:o={...o,...l}),n&&(o={...o,...n}),le(o)}const ae={class:"v-scroll relative overflow-auto"},ie={class:"vrs-container flex overflow-visible absolute rotate-90"},T=e.defineComponent({__name:"VirRowScroll",props:{width:{type:Number,default:300},height:{type:Number,default:32}},setup(t){e.useCssVars(a=>({"55db8aec":o.value,"55db8add":s.value}));const l=p("row-scroll"),n=t,o=e.computed(()=>n.width),s=e.computed(()=>n.height);return(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(l).base()])},[e.createElementVNode("div",ae,[e.createElementVNode("div",ie,[e.renderSlot(a.$slots,"default")])])],2))}}),Be="",re={install(t){t.component("VirRowScroll",T)}},ce=["id"],de={key:1},D=e.defineComponent({__name:"VirInfiniteScroll",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},reachedText:{type:String,default:"没有更多了"},hideReachedText:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"Loading"},iconColor:{type:String,default:"black"},targetId:{type:String,default:"goal-help"}},emits:["reached-trigger"],setup(t,{emit:l}){const n=p("infinite-scroll"),o=t,s=l,a=e.ref(),i=e.computed(()=>({width:typeof o.width=="string"?o.width:o.width+"px",height:typeof o.height=="string"?o.height:o.height+"px"})),f=e.computed(()=>o.loading),r=d=>{const{isIntersecting:u}=d[0];u&&s("reached-trigger")},m=()=>{a.value=new IntersectionObserver(r);const d=document.getElementById(o.targetId);a.value.observe(d)};return e.onMounted(()=>{m()}),e.onUnmounted(()=>{a.value&&a.value.disconnect()}),(d,u)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).base(),"overflow-y-auto"]),style:e.normalizeStyle(e.unref(i))},[e.renderSlot(d.$slots,"default"),e.createElementVNode("div",{id:t.targetId,class:"text-center text-gray-400 text-xs"},[e.unref(f)?e.renderSlot(d.$slots,"loadingIcon",{key:0},()=>[e.createVNode(y,{name:t.loadingIcon,color:t.iconColor,class:"inline animate-spin mr-0.5"},null,8,["name","color"])]):(e.openBlock(),e.createElementBlock("span",de,e.toDisplayString(t.hideReachedText?"":t.reachedText),1))],8,ce)],6))}}),Ne="",fe={install(t){t.component("VirInfiniteScroll",D)}},me=e.defineComponent({__name:"VirWaterfallFlowItem",props:{data:{type:Object,default:()=>{}},gap:{type:Number,default:5}},setup(t){const l=p("waterfall-flow-item"),n=t,o=e.ref(),s=e.ref({});return e.onMounted(()=>{s.value={"grid-row-end":`span ${o.value.clientHeight+n.gap}`}}),(a,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(l).base()]),style:e.normalizeStyle(s.value)},[e.createElementVNode("div",{ref_key:"waterfallFlowItem",ref:o},[e.renderSlot(a.$slots,"slot-scope",{data:t.data})],512)],6))}}),Ee="",F=e.defineComponent({__name:"VirWaterfallFlow",props:{dataList:{type:Array,default:[]},columns:{type:Number,default:2},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},gap:{type:Number,default:5},overflow:{type:String,default:"auto",validator:t=>["auto","visible"].includes(t)}},setup(t){const l=p("waterfall-flow"),n=t,o=e.ref({}),s=e.ref([]),a=i=>(1/i*100).toFixed(0);return e.watch(()=>n.dataList,i=>{s.value=i.map((f,r)=>({...f,dataIndex:r})),o.value={"grid-template-columns":`repeat(auto-fill, calc(${a(n.columns)}% - ${n.gap}px))`,width:typeof n.width=="string"?n.width:n.width+"px",overflow:n.overflow},n.overflow==="auto"&&(o.value.height=typeof n.height=="string"?n.height:n.height+"px")},{immediate:!0,deep:!0}),(i,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([[e.unref(l).base()],"grid"]),style:e.normalizeStyle(o.value)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,r=>(e.openBlock(),e.createBlock(me,{key:r.dataIndex,data:r,gap:t.gap},{"slot-scope":e.withCtx(m=>[e.renderSlot(i.$slots,"slot-scope",{slotProps:m})]),_:2},1032,["data","gap"]))),128))],6))}}),ze="",pe={install(t){t.component("VirWaterfallFlow",F)}},Ie="",ue=[j,R,W,P,X,re,fe,pe],ye={install(t){ue.map(l=>l.install(t))}};c.MessageBoxFn=se,c.VirAside=k,c.VirButton=_,c.VirCol=w,c.VirContainer=x,c.VirDrawer=z,c.VirFooter=$,c.VirHeader=B,c.VirIcon=y,c.VirInfiniteScroll=D,c.VirMain=N,c.VirRow=b,c.VirRowScroll=T,c.VirWaterfallFlow=F,c.default=ye,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
